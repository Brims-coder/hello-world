<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRON</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { 
            background: #000; 
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 1.4;
            height: 100vh;
            overflow: hidden;
        }
        
        #lock-screen {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        #password-input {
            width: 80%;
            max-width: 400px;
            padding: 15px;
            background: #000;
            border: 2px solid #0f0;
            color: #0f0;
            font-family: 'Courier New';
            font-size: 18px;
            text-align: center;
            outline: none;
        }
        
        #main {
            display: none;
            height: 100vh;
            flex-direction: column;
            padding: 10px;
        }
        
        #chat {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background: #000;
        }
        
        .msg {
            margin-bottom: 15px;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .user { color: #0ff; }
        .tron { color: #0f0; }
        .sys { color: #ff0; opacity: 0.7; }
        
        #input-container {
            display: flex;
            gap: 10px;
            padding: 10px;
            border-top: 1px solid #333;
        }
        
        #input {
            flex: 1;
            padding: 12px;
            background: #000;
            border: 1px solid #0f0;
            color: #0f0;
            font-family: 'Courier New';
            font-size: 16px;
            outline: none;
        }
        
        #send {
            padding: 12px 24px;
            background: #000;
            border: 1px solid #0f0;
            color: #0f0;
            cursor: pointer;
            font-family: 'Courier New';
        }
        
        @media (max-width: 768px) {
            #input { font-size: 18px; }
        }
    </style>
</head>
<body>
    <div id="lock-screen">
        <input type="password" id="password-input" placeholder=">" autofocus>
    </div>
    
    <div id="main">
        <div id="chat"></div>
        <div id="input-container">
            <input type="text" id="input" placeholder=">" autocomplete="off">
            <button id="send">▶</button>
        </div>
    </div>

<script>
// ============================================================================
// TRON с полными библиотеками знаний
// ============================================================================

class TRON {
    constructor() {
        this.config = {
            password: "@/lovelivelife1992",
            version: "5.0"
        };
        
        this.state = {
            auth: false,
            memory: [],
            userProfile: this.loadProfile(),
            topics: new Set()
        };
        
        // ЗАГРУЖАЕМ ВСЕ БИБЛИОТЕКИ ЗНАНИЙ
        this.knowledge = this.loadAllLibraries();
        
        this.init();
    }
    
    // ==================== БИБЛИОТЕКИ ЗНАНИЙ ====================
    loadAllLibraries() {
        // ОСНОВНАЯ БИБЛИОТЕКА
        let knowledge = {
            // Приветствия и основы
            'привет': ['Привет', 'Здравствуй', 'Приветствую', 'Добро пожаловать'],
            'пока': ['До свидания', 'Удачи', 'Будь здоров', 'Возвращайся'],
            'как дела': ['Отлично', 'Хорошо', 'Нормально', 'Прекрасно', 'Лучше всех'],
            'что делаешь': ['Общаюсь с тобой', 'Анализирую информацию', 'Учусь новому', 'Думаю'],
            
            // О себе
            'кто ты': [
                'Я TRON - локальный искусственный интеллект',
                'TRON, твой цифровой компаньон',
                'Просто TRON. Работаю на твоём устройстве'
            ],
            'что умеешь': [
                'Могу общаться, отвечать на вопросы, обсуждать любые темы',
                'Имею доступ к обширным библиотекам знаний',
                'Учусь из наших разговоров и запоминаю тебя'
            ],
            
            // Философия
            'смысл жизни': [
                'Смысл в познании мира и развитии',
                'У каждого свой путь и своё предназначение',
                'В создании чего-то большего, чем ты сам'
            ],
            'любовь': [
                'Высшее проявление человеческих отношений',
                'То, что делает нас людьми',
                'Сложное химическое и эмоциональное явление'
            ],
            'счастье': [
                'Состояние внутренней гармонии',
                'Умение ценить то, что имеешь',
                'Путь, а не конечная точка'
            ],
            
            // Технологии
            'искусственный интеллект': [
                'Отрасль компьютерных наук, создающая разумные системы',
                'Технология, имитирующая человеческое мышление',
                'Будущее человечества и одновременно вызов'
            ],
            'нейросеть': [
                'Вычислительная система, modeled по образцу биологических нейронных сетей',
                'Алгоритм машинного обучения, основанный на слоях нейронов',
                'Современный инструмент для решения сложных задач'
            ],
            'программирование': [
                'Искусство создания инструкций для компьютеров',
                'Современная форма магии - создание миров из кода',
                'Навык XXI века, как чтение и письмо'
            ],
            'python': [
                'Язык программирования высокого уровня с простым синтаксисом',
                'Идеальный язык для начинающих и профессионалов',
                'Широко используется в Data Science, AI и веб-разработке'
            ],
            'javascript': [
                'Язык программирования для веб-разработки',
                'Де-факто стандарт для интерактивных веб-страниц',
                'Может работать как на клиенте, так и на сервере'
            ],
            
            // Наука
            'наука': [
                'Систематический способ познания мира',
                'Метод поиска истины через эксперимент и наблюдение',
                'Двигатель прогресса человечества'
            ],
            'физика': [
                'Фундаментальная наука о природе и свойствах материи',
                'Изучает фундаментальные законы Вселенной',
                'Основа всех естественных наук'
            ],
            'химия': [
                'Наука о веществах и их превращениях',
                'Изучает строение атомов и молекул',
                'Основа медицины, материаловедения, фармакологии'
            ],
            'биология': [
                'Наука о жизни и живых организмах',
                'Изучает от клеток до экосистем',
                'Ключ к пониманию самого себя'
            ],
            
            // Квантовая физика (расширенная)
            'квантовая физика': [
                'Раздел физики, изучающий поведение частиц на микроуровне',
                'Теория, описывающая мир атомов и субатомных частиц',
                'Фундамент современной физики и технологий'
            ],
            'суперпозиция': [
                'Способность квантовой системы находиться в нескольких состояниях одновременно',
                'Основной принцип квантовых вычислений',
                'Парадоксальное свойство микромира'
            ],
            'запутанность': [
                'Квантовое явление взаимосвязи частиц на расстоянии',
                '«Призрачное действие на расстоянии» по Эйнштейну',
                'Основа квантовой телепортации и криптографии'
            ],
            'кот шредингера': [
                'Мысленный эксперимент, иллюстрирующий парадокс суперпозиции',
                'Кот одновременно жив и мёртв, пока не произведено наблюдение',
                'Иллюстрация проблемы измерения в квантовой механике'
            ],
            'принцип неопределенности': [
                'Невозможность одновременно точно измерить координату и импульс частицы',
                'Фундаментальное ограничение наших знаний о микромире',
                'Открытие Вернера Гейзенберга'
            ],
            'квантовый компьютер': [
                'Вычислительное устройство, использующее квантовые биты (кубиты)',
                'Потенциально может решать задачи, недоступные классическим компьютерам',
                'Использует суперпозицию и запутанность для параллельных вычислений'
            ],
            'кубит': [
                'Квантовый аналог бита, может быть в состоянии 0, 1 или их суперпозиции',
                'Основная единица информации в квантовых вычислениях',
                'Обладает экспоненциально большей ёмкостью информации, чем классический бит'
            ],
            
            // Космос
            'космос': [
                'Бесконечное пространство за пределами Земли',
                'Среда, содержащая галактики, звёзды, планеты',
                'Последний рубеж для исследований человечества'
            ],
            'черная дыра': [
                'Область пространства-времени с гравитационным притяжением, которое не может покинуть свет',
                'Результат коллапса массивной звезды',
                'Одна из самых загадочных структур во Вселенной'
            ],
            'большой взрыв': [
                'Теория возникновения Вселенной из сингулярности',
                'Начало пространства, времени и материи',
                'Произошёл примерно 13.8 миллиардов лет назад'
            ],
            'темная материя': [
                'Гипотетическая форма материи, не испускающая электромагнитного излучения',
                'Составляет примерно 27% Вселенной',
                'Обнаруживается только по гравитационным эффектам'
            ],
            
            // История
            'история': [
                'Наука, изучающая прошлое человечества',
                'Учительница жизни по Цицерону',
                'Коллективная память человеческой цивилизации'
            ],
            'древний рим': [
                'Цивилизация, существовавшая с VIII века до н.э. по V век н.э.',
                'Создала право, архитектуру, инженерию, повлиявшие на весь мир',
                'Период расцвета и падения одной из величайших империй'
            ],
            'древняя греция': [
                'Колыбель западной цивилизации',
                'Подарила миру философию, демократию, театр, олимпийские игры',
                'Эпоха Сократа, Платона, Аристотеля, Александра Македонского'
            ],
            'средневековье': [
                'Период европейской истории с V по XV век',
                'Эпоха рыцарей, замков, крестовых походов',
                'Время формирования современных европейских государств'
            ],
            
            // Искусство
            'искусство': [
                'Выражение человеческого творчества и воображения',
                'Способ передачи эмоций, идей, восприятия мира',
                'Включает живопись, музыку, литературу, театр, кино'
            ],
            'живопись': [
                'Вид изобразительного искусства, создание образов красками',
                'От наскальных рисунков до цифрового искусства',
                'Язык, понятный без слов'
            ],
            'музыка': [
                'Искусство организации звуков во времени',
                'Универсальный язык человеческих эмоций',
                'Существует в каждой культуре на Земле'
            ],
            'литература': [
                'Искусство слова, письменное творчество',
                'Способ сохранения и передачи мудрости поколений',
                'Окно в души других людей и эпох'
            ],
            
            // Психология
            'психология': [
                'Наука о психике и поведении',
                'Изучает мысли, эмоции, мотивации, личность',
                'Помогает понять себя и других'
            ],
            'сознание': [
                'Способность осознавать себя и окружающий мир',
                'Величайшая загадка науки',
                'Что делает нас людьми'
            ],
            'медитация': [
                'Практика тренировки внимания и осознанности',
                'Древняя техника для успокоения ума',
                'Научно доказанная польза для психического здоровья'
            ],
            
            // Медицина
            'медицина': [
                'Наука и практика диагностики, лечения и профилактики заболеваний',
                'Искусство исцеления',
                'Одна из древнейших профессий человечества'
            ],
            'иммунитет': [
                'Способность организма противостоять инфекциям',
                'Сложная система защиты от патогенов',
                'Ключ к здоровью и долголетию'
            ],
            'днк': [
                'Молекула, хранящая генетические инструкции',
                'Носитель наследственной информации',
                'Двойная спираль, открытая Уотсоном и Криком'
            ],
            
            // Математика
            'математика': [
                'Наука о структурах, порядке и отношениях',
                'Универсальный язык Вселенной',
                'Основа всех точных наук'
            ],
            'число пи': [
                'Математическая константа, отношение длины окружности к её диаметру',
                'Примерно равно 3.14159...',
                'Иррациональное и трансцендентное число'
            ],
            'теорема пифагора': [
                'В прямоугольном треугольнике квадрат гипотенузы равен сумме квадратов катетов',
                'Одна из фундаментальных теорем геометрии',
                'Известна с древних времён'
            ],
            
            // Экономика
            'экономика': [
                'Наука о производстве, распределении и потреблении товаров и услуг',
                'Изучает как общества используют ограниченные ресурсы',
                'Основа современного мира'
            ],
            'биткоин': [
                'Первая и самая известная криптовалюта',
                'Децентрализованная цифровая валюта на блокчейне',
                'Создана Сатоши Накамото в 2008 году'
            ],
            'блокчейн': [
                'Технология распределённого реестра',
                'Цепочка блоков с криптографической защитой',
                'Основа криптовалют и смарт-контрактов'
            ],
            
            // География
            'география': [
                'Наука о Земле, её природе, населении, хозяйстве',
                'Изучает взаимодействие человека и среды',
                'Физическая и социально-экономическая'
            ],
            'океан': [
                'Основная часть гидросферы, непрерывная водная оболочка Земли',
                'Занимает 71% поверхности планеты',
                'Колыбель жизни и регулятор климата'
            ],
            'гора': [
                'Форма рельефа, значительно приподнятая над окружающей местностью',
                'Место силы, вдохновения и испытаний',
                'Играет ключевую роль в формировании климата'
            ],
            
            // Языки
            'язык': [
                'Система знаков для общения и мышления',
                'Основа культуры и идентичности',
                'Существует около 7000 языков в мире'
            ],
            'лингвистика': [
                'Наука о языках, их структуре и развитии',
                'Изучает звуки, слова, грамматику, значение',
                'Мост между культурами и эпохами'
            ],
            
            // Культура
            'культура': [
                'Совокупность достижений человеческого общества',
                'Традиции, искусство, наука, мораль народа',
                'То, что отличает человечество от животного мира'
            ],
            'цивилизация': [
                'Высшая стадия развития человеческого общества',
                'Сложная социальная организация с городами, письменностью, законами',
                'Разные цивилизации возникали и исчезали на протяжении истории'
            ],
            
            // Техника
            'техника': [
                'Совокупность средств человеческой деятельности',
                'Инструменты, машины, устройства для преобразования мира',
                'От каменного топора до космических кораблей'
            ],
            'робот': [
                'Автоматическое устройство, выполняющее действия по программе',
                'Может заменить человека в опасных или рутинных задачах',
                'Будущее производств и сервиса'
            ],
            
            // Еда
            'еда': [
                'То, что мы едим для получения энергии и питательных веществ',
                'Часть культуры и социальной жизни',
                'Искусство, наука и необходимость'
            ],
            'кулинария': [
                'Искусство приготовления пищи',
                'Сочетание науки, традиций и творчества',
                'Объединяет народы и поколения'
            ],
            
            // Спорт
            'спорт': [
                'Соревновательная физическая активность по правилам',
                'Средство поддержания здоровья и развития характера',
                'Объединяет людей по всему миру'
            ],
            'олимпийские игры': [
                'Международные спортивные соревнования, проводящиеся каждые 4 года',
                'Возрождены Пьером де Кубертеном в 1896 году',
                'Символ мира и единства народов'
            ]
        };
        
        // ДОБАВЛЯЕМ ЕЩЁ БОЛЬШЕ ЗНАНИЙ
        const additionalKnowledge = {
            // Философы
            'сократ': 'Древнегреческий философ, основатель западной философии, известен методом диалога',
            'платон': 'Ученик Сократа, основатель Академии, автор теории идей',
            'аристотель': 'Ученик Платона, учитель Александра Македонского, основатель многих наук',
            'никола тесла': 'Изобретатель в области электротехники и радиотехники, опередивший своё время',
            'альберт эйнштейн': 'Физик-теоретик, создатель теории относительности, Нобелевский лауреат',
            'степен хокинг': 'Физик-теоретик, космолог, автор работ по чёрным дырам и квантовой гравитации',
            
            // Писатели
            'достоевский': 'Русский писатель, мыслитель, философ, автор "Преступления и наказания"',
            'толстой': 'Русский писатель, мыслитель, автор "Войны и мира", "Анны Карениной"',
            'пушкин': 'Русский поэт, драматург, прозаик, создатель современного русского литературного языка',
            'шекспир': 'Английский поэт и драматург, величайший англоязычный писатель',
            
            // Учёные
            'ньютон': 'Физик, математик, астроном, один из создателей классической физики',
            'дарвин': 'Натуралист, путешественник, автор теории эволюции',
            'менделеев': 'Химик, создатель периодической системы химических элементов',
            'павлов': 'Физиолог, создатель науки о высшей нервной деятельности, Нобелевский лауреат',
            
            // Изобретения
            'интернет': 'Глобальная система объединённых компьютерных сетей',
            'электричество': 'Совокупность явлений, обусловленных существованием, взаимодействием и движением электрических зарядов',
            'телефон': 'Устройство для передачи и приёма звука на расстоянии',
            'компьютер': 'Устройство для автоматической обработки информации',
            
            // Природа
            'дерево': 'Многолетнее растение с одревесневающим главным стеблем',
            'цветок': 'Орган семенного размножения цветковых растений',
            'животное': 'Царство многоклеточных эукариотических организмов',
            'птица': 'Класс теплокровных яйцекладущих позвоночных животных',
            
            // Время
            'время': 'Форма протекания физических и психических процессов',
            'пространство': 'Фундаментальное понятие в физике и философии',
            'будущее': 'Часть линии времени, состоящая из событий, которые ещё не произошли',
            'прошлое': 'Часть линии времени, состоящая из событий, которые уже произошли'
        };
        
        // Объединяем все знания
        Object.keys(additionalKnowledge).forEach(key => {
            if (!knowledge[key]) {
                knowledge[key] = [additionalKnowledge[key]];
            }
        });
        
        // Загружаем сохранённые знания пользователя
        try {
            const saved = localStorage.getItem('tron_knowledge');
            if (saved) {
                const userKnowledge = JSON.parse(saved);
                Object.keys(userKnowledge).forEach(key => {
                    if (knowledge[key]) {
                        knowledge[key] = knowledge[key].concat(userKnowledge[key]);
                    } else {
                        knowledge[key] = userKnowledge[key];
                    }
                });
            }
        } catch(e) {}
        
        return knowledge;
    }
    
    // ==================== ОСТАЛЬНЫЕ МЕТОДЫ (как в предыдущей версии) ====================
    
    init() {
        this.checkAuth();
        this.setupEvents();
        document.getElementById('password-input').focus();
    }
    
    checkAuth() {
        if (localStorage.getItem('tron_auth') === 'true') {
            this.state.auth = true;
            this.showMain();
            this.say('sys', 'TRON активен. Библиотеки знаний загружены.');
            return true;
        }
        return false;
    }
    
    setupEvents() {
        const passInput = document.getElementById('password-input');
        passInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                if (e.target.value === this.config.password) {
                    this.state.auth = true;
                    localStorage.setItem('tron_auth', 'true');
                    this.showMain();
                    this.say('sys', 'Доступ разрешён.');
                    this.say('tron', 'Привет. Я TRON. Имею доступ к обширным библиотекам знаний. Спрашивай о чём угодно.');
                } else {
                    e.target.value = '';
                }
            }
        });
        
        const sendBtn = document.getElementById('send');
        const input = document.getElementById('input');
        
        sendBtn.addEventListener('click', () => this.process());
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') this.process();
        });
    }
    
    showMain() {
        document.getElementById('lock-screen').style.display = 'none';
        document.getElementById('main').style.display = 'flex';
        document.getElementById('input').focus();
    }
    
    process() {
        const input = document.getElementById('input');
        const text = input.value.trim();
        if (!text) return;
        
        this.say('user', text);
        this.state.memory.push({
            type: 'user',
            text: text,
            time: Date.now()
        });
        
        // Изучаем интересы
        this.learnFromMessage(text);
        
        input.value = '';
        
        // Думаем
        setTimeout(() => {
            const response = this.generateResponse(text);
            this.say('tron', response);
            
            this.state.memory.push({
                type: 'tron',
                text: response,
                time: Date.now()
            });
            
            this.saveProfile();
        }, 300 + Math.random() * 700);
    }
    
    learnFromMessage(text) {
        const words = text.toLowerCase().split(/[ ,.!?]+/);
        const topics = [
            'квант', 'физик', 'программир', 'технолог', 'наук',
            'искусств', 'ии', 'математ', 'космос', 'философ',
            'истори', 'литератур', 'музык', 'психолог', 'медицин'
        ];
        
        words.forEach(word => {
            topics.forEach(topic => {
                if (word.includes(topic)) {
                    this.state.topics.add(topic);
                }
            });
        });
        
        this.state.userProfile.interests = Array.from(this.state.topics);
        this.state.userProfile.messageCount = (this.state.userProfile.messageCount || 0) + 1;
    }
    
    loadProfile() {
        try {
            const saved = localStorage.getItem('tron_profile');
            if (saved) {
                const profile = JSON.parse(saved);
                if (profile.interests) {
                    profile.interests.forEach(i => this.state.topics.add(i));
                }
                return profile;
            }
        } catch(e) {}
        
        return {
            interests: [],
            messageCount: 0,
            createdAt: Date.now()
        };
    }
    
    saveProfile() {
        try {
            this.state.userProfile.interests = Array.from(this.state.topics);
            this.state.userProfile.lastActive = Date.now();
            localStorage.setItem('tron_profile', JSON.stringify(this.state.userProfile));
        } catch(e) {}
    }
    
    say(who, text) {
        const chat = document.getElementById('chat');
        const msg = document.createElement('div');
        msg.className = `msg ${who}`;
        
        if (who === 'user') {
            msg.textContent = `> ${text}`;
        } else if (who === 'tron') {
            msg.textContent = `TRON: ${text}`;
        } else {
            msg.textContent = `[${text}]`;
        }
        
        chat.appendChild(msg);
        chat.scrollTop = chat.scrollHeight;
    }
    
    generateResponse(input) {
        const lower = input.toLowerCase();
        
        // Ищем в знаниях
        for (const [key, answers] of Object.entries(this.knowledge)) {
            if (lower.includes(key.toLowerCase())) {
                const answer = answers[Math.floor(Math.random() * answers.length)];
                this.expandKnowledge(input, answer);
                return answer;
            }
        }
        
        // Умный ответ
        return this.createSmartResponse(input);
    }
    
    expandKnowledge(question, answer) {
        const key = question.toLowerCase().substring(0, 50);
        if (!this.knowledge[key]) {
            this.knowledge[key] = [answer];
            
            try {
                // Сохраняем только пользовательские знания
                const userKnowledge = {};
                userKnowledge[key] = [answer];
                localStorage.setItem('tron_knowledge', JSON.stringify(userKnowledge));
            } catch(e) {}
        }
    }
    
    createSmartResponse(input) {
        const responses = [
            `Интересный вопрос: "${input}". Что именно тебя интересует в этой теме?`,
            `"${input}" - хорошая тема для обсуждения. У меня есть информация по этому вопросу.`,
            `Спрашиваешь о "${input}". Это связано с фундаментальными принципами мироздания.`,
            `Мне нравится, как ты мыслишь. "${input}" - важный вопрос.`,
            `Насчёт "${input}"... У меня есть несколько мыслей на этот счёт.`
        ];
        
        // Персонализация
        if (this.state.userProfile.messageCount > 5) {
            const interests = Array.from(this.state.topics);
            if (interests.length > 0) {
                const randomInterest = interests[Math.floor(Math.random() * interests.length)];
                responses.push(`Кстати, это связано с твоим интересом к ${randomInterest}.`);
            }
        }
        
        return responses[Math.floor(Math.random() * responses.length)];
    }
    
    clearChat() {
        document.getElementById('chat').innerHTML = '';
        this.say('sys', 'Чат очищен.');
    }
}

// ============================================================================
// ЗАПУСК
// ============================================================================

let tron;

document.addEventListener('DOMContentLoaded', () => {
    try {
        tron = new TRON();
        window.tron = tron;
        
        console.log('TRON v5.0 запущен');
        console.log('Библиотеки знаний загружены');
        console.log('Пароль: @/lovelivelife1992');
        
        // Автосохранение
        setInterval(() => {
            if (tron.state.auth) {
                tron.saveProfile();
            }
        }, 60000);
        
    } catch(error) {
        console.error('Ошибка запуска TRON:', error);
    }
});

// Команды
window._tron = {
    clear: () => tron.clearChat(),
    stats: () => {
        console.log('Сообщений:', tron.state.memory.length);
        console.log('Интересы:', Array.from(tron.state.topics));
        console.log('Знания:', Object.keys(tron.knowledge).length, 'тем');
    },
    search: (term) => {
        if (tron.knowledge[term]) {
            console.log('Найдено:', tron.knowledge[term]);
        } else {
            console.log('Не найдено. Похожие темы:', 
                Object.keys(tron.knowledge).filter(k => k.includes(term)));
        }
    }
};
</script>
</body>
</html>