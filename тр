<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TRON AI v2.0 | @/lovelivelife1992</title>
    <style>
        /* ===== RESET & BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #00ff00;
            --secondary: #00ffff;
            --accent: #ff00ff;
            --error: #ff5555;
            --warning: #ffff00;
            --bg: #000000;
            --bg-secondary: #0a0a0a;
            --terminal-bg: #001100;
            --cursor-color: #00ff00;
        }

        body {
            background: var(--bg);
            color: var(--primary);
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            height: 100vh;
            overflow: hidden;
            touch-action: manipulation;
        }

        /* ===== –¢–ï–†–ú–ò–ù–ê–õ ===== */
        #tron-terminal {
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: var(--bg);
            position: relative;
        }

        /* –®–ê–ü–ö–ê */
        .terminal-header {
            padding: 12px 15px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .tron-logo {
            font-weight: bold;
            font-size: 18px;
            color: var(--primary);
            text-shadow: 0 0 10px var(--primary);
            letter-spacing: 1px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .header-right {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .header-btn {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 3px;
            font-family: inherit;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .header-btn:hover {
            background: var(--primary);
            color: var(--bg);
        }

        /* –û–°–ù–û–í–ù–û–ï –û–ö–ù–û */
        .terminal-body {
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            padding: 10px;
            background: var(--terminal-bg);
            position: relative;
        }

        #output {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            margin-bottom: 10px;
            scroll-behavior: smooth;
        }

        #output::-webkit-scrollbar {
            width: 8px;
        }

        #output::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        #output::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        /* –°–¢–†–û–ö–ê –í–í–û–î–ê */
        .input-line {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--primary);
            border-radius: 4px;
            flex-shrink: 0;
        }

        .prompt {
            color: var(--accent);
            font-weight: bold;
            white-space: nowrap;
            user-select: none;
        }

        #command-input {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--primary);
            font-family: inherit;
            font-size: 14px;
            outline: none;
            caret-color: var(--cursor-color);
        }

        #send-btn {
            background: var(--primary);
            color: var(--bg);
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            font-family: inherit;
            cursor: pointer;
            font-weight: bold;
            transition: opacity 0.2s;
        }

        #send-btn:hover {
            opacity: 0.8;
        }

        /* –°–¢–ò–õ–ò –°–û–û–ë–©–ï–ù–ò–ô */
        .message {
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 4px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background: rgba(0, 255, 0, 0.1);
            border-left: 3px solid var(--primary);
        }

        .tron-message {
            background: rgba(0, 255, 255, 0.1);
            border-left: 3px solid var(--secondary);
        }

        .system-message {
            background: rgba(255, 0, 255, 0.1);
            border-left: 3px solid var(--accent);
        }

        .error-message {
            background: rgba(255, 85, 85, 0.1);
            border-left: 3px solid var(--error);
            color: var(--error);
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 12px;
            opacity: 0.8;
        }

        .message-content {
            line-height: 1.6;
        }

        .message-content pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            margin: 5px 0;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 4px;
            overflow-x: auto;
        }

        .message-content code {
            background: rgba(0, 0, 0, 0.5);
            padding: 2px 4px;
            border-radius: 3px;
            font-family: inherit;
        }

        /* –°–ò–°–¢–ï–ú–ê –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò */
        #auth-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .auth-container {
            width: 90%;
            max-width: 400px;
            padding: 30px;
            background: var(--bg-secondary);
            border: 2px solid var(--primary);
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.3);
        }

        .auth-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
            font-size: 24px;
            text-shadow: 0 0 10px var(--primary);
        }

        .auth-input {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            background: var(--bg);
            border: 1px solid var(--primary);
            color: var(--primary);
            font-family: inherit;
            font-size: 16px;
            border-radius: 5px;
            outline: none;
        }

        .auth-input:focus {
            box-shadow: 0 0 10px var(--primary);
        }

        .auth-btn {
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: var(--bg);
            border: none;
            border-radius: 5px;
            font-family: inherit;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 0, 0.4);
        }

        .auth-error {
            color: var(--error);
            text-align: center;
            margin-top: 15px;
            font-size: 14px;
            min-height: 20px;
        }

        .auth-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            opacity: 0.7;
        }

        /* –ü–ê–ù–ï–õ–¨ –ö–û–ú–ê–ù–î */
        .commands-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .cmd-chip {
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .cmd-chip:hover {
            background: var(--primary);
            color: var(--bg);
        }

        /* –ú–û–ë–ò–õ–¨–ù–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø */
        @media (max-width: 768px) {
            body {
                font-size: 13px;
            }
            
            .terminal-header {
                padding: 8px 10px;
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .header-left {
                order: 1;
                width: 100%;
                justify-content: space-between;
                margin-bottom: 5px;
            }
            
            .header-right {
                order: 2;
                width: 100%;
                justify-content: center;
            }
            
            .tron-logo {
                font-size: 16px;
            }
            
            .terminal-body {
                padding: 5px;
            }
            
            .input-line {
                padding: 8px;
            }
            
            #send-btn {
                padding: 8px 16px;
                font-size: 13px;
            }
            
            .commands-panel {
                gap: 6px;
            }
            
            .cmd-chip {
                padding: 6px 10px;
                font-size: 11px;
            }
        }

        @media (max-width: 480px) {
            .auth-container {
                padding: 20px;
            }
            
            .auth-title {
                font-size: 20px;
            }
            
            .message-header {
                flex-direction: column;
                gap: 3px;
            }
        }

        /* –ö–õ–ê–í–ò–ê–¢–£–†–ê –ù–ê –≠–ö–†–ê–ù–ï */
        .virtual-keyboard {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--bg-secondary);
            border-top: 1px solid var(--primary);
            padding: 10px;
            display: none;
            z-index: 100;
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 5px;
        }

        .keyboard-key {
            flex: 1;
            max-width: 50px;
            height: 40px;
            background: var(--bg);
            border: 1px solid var(--primary);
            color: var(--primary);
            font-family: inherit;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        .keyboard-key:hover {
            background: var(--primary);
            color: var(--bg);
        }

        .show-keyboard {
            position: absolute;
            right: 10px;
            bottom: 10px;
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            display: none;
        }

        @media (max-width: 768px) {
            .show-keyboard {
                display: block;
            }
        }

        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        .blink {
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .glitch {
            position: relative;
            animation: glitch 5s infinite;
        }

        @keyframes glitch {
            0% { transform: translate(0); }
            2% { transform: translate(-2px, 2px); }
            4% { transform: translate(-2px, -2px); }
            6% { transform: translate(2px, 2px); }
            8% { transform: translate(2px, -2px); }
            10% { transform: translate(0); }
        }

        /* –£–¢–ò–õ–ò–¢–´ */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .mt-10 {
            margin-top: 10px;
        }

        .mb-10 {
            margin-bottom: 10px;
        }

        .cursor-pointer {
            cursor: pointer;
        }

        /* –ü–û–î–°–ö–ê–ó–ö–ò */
        #suggestions {
            position: absolute;
            bottom: 60px;
            left: 10px;
            right: 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--primary);
            border-radius: 4px;
            max-height: 150px;
            overflow-y: auto;
            display: none;
            z-index: 50;
        }

        .suggestion-item {
            padding: 8px 12px;
            border-bottom: 1px solid rgba(0, 255, 0, 0.2);
            cursor: pointer;
        }

        .suggestion-item:hover {
            background: rgba(0, 255, 0, 0.1);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <!-- –≠–ö–†–ê–ù –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò -->
    <div id="auth-screen">
        <div class="auth-container">
            <div class="auth-title">TRON AI v2.0</div>
            <div class="text-center mb-10" style="color: var(--secondary);">
                –õ–æ–∫–∞–ª—å–Ω—ã–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç<br>
                <span style="font-size: 12px;">–°–µ—Å—Å–∏—è: @/lovelivelife1992</span>
            </div>
            
            <input type="password" 
                   id="auth-password" 
                   class="auth-input" 
                   placeholder="–í–≤–µ–¥–∏—Ç–µ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å"
                   autocomplete="off"
                   autofocus>
            
            <button id="auth-login" class="auth-btn">–í–•–û–î –í –°–ò–°–¢–ï–ú–£</button>
            
            <div class="auth-footer">
                –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞ AES-256<br>
                –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
            </div>
            
            <div id="auth-error" class="auth-error"></div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –¢–ï–†–ú–ò–ù–ê–õ -->
    <div id="tron-terminal" class="hidden">
        <!-- –®–ê–ü–ö–ê -->
        <div class="terminal-header">
            <div class="header-left">
                <div class="tron-logo glitch">TRON_AI://ROOT@SYSTEM</div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span id="status-text">ONLINE</span>
                </div>
            </div>
            
            <div class="header-right">
                <button class="header-btn" id="btn-clear">–û–ß–ò–°–¢–ò–¢–¨</button>
                <button class="header-btn" id="btn-help">–ü–û–ú–û–©–¨</button>
                <button class="header-btn" id="btn-settings">–ù–ê–°–¢–†–û–ô–ö–ò</button>
                <button class="header-btn" id="btn-logout">–í–´–•–û–î</button>
            </div>
        </div>

        <!-- –û–°–ù–û–í–ù–û–ï –û–ö–ù–û -->
        <div class="terminal-body">
            <!-- –í–´–í–û–î –°–û–û–ë–©–ï–ù–ò–ô -->
            <div id="output"></div>

            <!-- –ü–ê–ù–ï–õ–¨ –ö–û–ú–ê–ù–î -->
            <div class="commands-panel" id="commands-panel">
                <!-- –ö–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>

            <!-- –°–¢–†–û–ö–ê –í–í–û–î–ê -->
            <div class="input-line">
                <div class="prompt">
                    <span id="current-user">root</span>@tron:<span id="current-dir">~</span>#
                </div>
                <input type="text" 
                       id="command-input" 
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É..." 
                       autocomplete="off"
                       autofocus>
                <button id="send-btn">–í–í–û–î</button>
            </div>

            <!-- –ü–û–î–°–ö–ê–ó–ö–ò -->
            <div id="suggestions"></div>
        </div>

        <!-- –ö–ù–û–ü–ö–ê –í–ö–õ–Æ–ß–ï–ù–ò–Ø –ö–õ–ê–í–ò–ê–¢–£–†–´ -->
        <div class="show-keyboard" id="show-keyboard">‚å®Ô∏è</div>

        <!-- –í–ò–†–¢–£–ê–õ–¨–ù–ê–Ø –ö–õ–ê–í–ò–ê–¢–£–†–ê -->
        <div class="virtual-keyboard" id="virtual-keyboard">
            <div class="keyboard-row">
                <div class="keyboard-key" data-key="1">1</div>
                <div class="keyboard-key" data-key="2">2</div>
                <div class="keyboard-key" data-key="3">3</div>
                <div class="keyboard-key" data-key="4">4</div>
                <div class="keyboard-key" data-key="5">5</div>
                <div class="keyboard-key" data-key="6">6</div>
                <div class="keyboard-key" data-key="7">7</div>
                <div class="keyboard-key" data-key="8">8</div>
                <div class="keyboard-key" data-key="9">9</div>
                <div class="keyboard-key" data-key="0">0</div>
            </div>
            <div class="keyboard-row">
                <div class="keyboard-key" data-key="q">q</div>
                <div class="keyboard-key" data-key="w">w</div>
                <div class="keyboard-key" data-key="e">e</div>
                <div class="keyboard-key" data-key="r">r</div>
                <div class="keyboard-key" data-key="t">t</div>
                <div class="keyboard-key" data-key="y">y</div>
                <div class="keyboard-key" data-key="u">u</div>
                <div class="keyboard-key" data-key="i">i</div>
                <div class="keyboard-key" data-key="o">o</div>
                <div class="keyboard-key" data-key="p">p</div>
            </div>
            <div class="keyboard-row">
                <div class="keyboard-key" data-key="a">a</div>
                <div class="keyboard-key" data-key="s">s</div>
                <div class="keyboard-key" data-key="d">d</div>
                <div class="keyboard-key" data-key="f">f</div>
                <div class="keyboard-key" data-key="g">g</div>
                <div class="keyboard-key" data-key="h">h</div>
                <div class="keyboard-key" data-key="j">j</div>
                <div class="keyboard-key" data-key="k">k</div>
                <div class="keyboard-key" data-key="l">l</div>
                <div class="keyboard-key" data-key="backspace">‚Üê</div>
            </div>
            <div class="keyboard-row">
                <div class="keyboard-key" data-key="z">z</div>
                <div class="keyboard-key" data-key="x">x</div>
                <div class="keyboard-key" data-key="c">c</div>
                <div class="keyboard-key" data-key="v">v</div>
                <div class="keyboard-key" data-key="b">b</div>
                <div class="keyboard-key" data-key="n">n</div>
                <div class="keyboard-key" data-key="m">m</div>
                <div class="keyboard-key" data-key="space" style="flex: 3;">–ü–†–û–ë–ï–õ</div>
                <div class="keyboard-key" data-key="enter" style="flex: 2;">–í–í–û–î</div>
            </div>
        </div>
    </div>

    <script>
        // ============================================================================
        // –û–°–ù–û–í–ù–û–ô –ö–û–î TRON AI
        // ============================================================================

        class TRONAI {
            constructor() {
                // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
                this.config = {
                    masterPassword: "@/lovelivelife1992",
                    sessionTimeout: 60 * 60 * 1000, // 1 —á–∞—Å
                    maxHistory: 100,
                    aiName: "TRON",
                    version: "2.0",
                    user: "root"
                };

                // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
                this.state = {
                    authenticated: false,
                    sessionStart: null,
                    currentDir: "~",
                    commandHistory: [],
                    historyIndex: -1,
                    aiMode: "gpt", // gpt, llama, deepseek
                    memory: [],
                    settings: {
                        sound: true,
                        animations: true,
                        autoComplete: true,
                        theme: "matrix"
                    }
                };

                // –ö–æ–º–∞–Ω–¥—ã —Å–∏—Å—Ç–µ–º—ã
                this.commands = {
                    // –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
                    help: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º",
                        execute: () => this.showHelp()
                    },
                    clear: {
                        description: "–û—á–∏—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª",
                        execute: () => this.clearTerminal()
                    },
                    version: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é TRON AI",
                        execute: () => this.showVersion()
                    },
                    time: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∏ –¥–∞—Ç—É",
                        execute: () => this.showTime()
                    },
                    exit: {
                        description: "–í—ã–π—Ç–∏ –∏–∑ TRON AI",
                        execute: () => this.logout()
                    },

                    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
                    ls: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏",
                        execute: (args) => this.listDirectory(args)
                    },
                    cd: {
                        description: "–°–º–µ–Ω–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é",
                        execute: (args) => this.changeDirectory(args)
                    },
                    pwd: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é",
                        execute: () => this.printWorkingDirectory()
                    },

                    // –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
                    cat: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞",
                        execute: (args) => this.catFile(args)
                    },
                    mkdir: {
                        description: "–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é",
                        execute: (args) => this.makeDirectory(args)
                    },
                    touch: {
                        description: "–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª",
                        execute: (args) => this.touchFile(args)
                    },
                    rm: {
                        description: "–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é",
                        execute: (args) => this.removeFile(args)
                    },

                    // –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
                    sysinfo: {
                        description: "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ",
                        execute: () => this.systemInfo()
                    },
                    ps: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã",
                        execute: () => this.showProcesses()
                    },
                    kill: {
                        description: "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å",
                        execute: (args) => this.killProcess(args)
                    },

                    // –ò–ò –∫–æ–º–∞–Ω–¥—ã
                    ai: {
                        description: "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ò–ò",
                        execute: (args) => this.aiChat(args.join(" "))
                    },
                    mode: {
                        description: "–°–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º –ò–ò (gpt, llama, deepseek)",
                        execute: (args) => this.changeMode(args[0])
                    },
                    memory: {
                        description: "–ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞",
                        execute: () => this.showMemory()
                    },

                    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
                    passwd: {
                        description: "–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å",
                        execute: () => this.changePassword()
                    },
                    encrypt: {
                        description: "–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç",
                        execute: (args) => this.encryptText(args.join(" "))
                    },
                    decrypt: {
                        description: "–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç",
                        execute: (args) => this.decryptText(args.join(" "))
                    },

                    // –£—Ç–∏–ª–∏—Ç—ã
                    calc: {
                        description: "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
                        execute: (args) => this.calculator(args.join(" "))
                    },
                    echo: {
                        description: "–í—ã–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç",
                        execute: (args) => this.echoText(args.join(" "))
                    },
                    ping: {
                        description: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ",
                        execute: (args) => this.pingHost(args[0])
                    },

                    // –ò–≥—Ä—ã
                    guess: {
                        description: "–ò–≥—Ä–∞ '–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ'",
                        execute: () => this.guessNumberGame()
                    },
                    maze: {
                        description: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–∞–±–∏—Ä–∏–Ω—Ç–∞",
                        execute: () => this.generateMaze()
                    },

                    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                    settings: {
                        description: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã",
                        execute: () => this.showSettings()
                    },
                    theme: {
                        description: "–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É",
                        execute: (args) => this.changeTheme(args[0])
                    }
                };

                // –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
                this.fs = {
                    "~": {
                        type: "dir",
                        contents: {
                            "readme.txt": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TRON AI!\n\n–≠—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞.\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:\n  ls - —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤\n  cat <file> - –ø–æ–∫–∞–∑–∞—Ç—å —Ñ–∞–π–ª\n  touch <file> - —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª\n  rm <file> - —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª",
                            ".config": {
                                type: "dir",
                                contents: {
                                    "ai_settings.json": '{"mode":"gpt","temperature":0.7}',
                                    "user_profile.json": '{"name":"root","level":"admin"}'
                                }
                            },
                            "logs": {
                                type: "dir",
                                contents: {
                                    "system.log": "2024-01-01: –°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞\n2024-01-01: TRON AI –∑–∞–ø—É—â–µ–Ω",
                                    "session.log": "–°–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞"
                                }
                            },
                            "projects": {
                                type: "dir",
                                contents: {
                                    "ai_research.txt": "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ò–ò...",
                                    "quantum_computing.md": "# –ö–≤–∞–Ω—Ç–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è"
                                }
                            }
                        }
                    }
                };

                this.init();
            }

            // ============================================================================
            // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
            // ============================================================================

            init() {
                this.bindEvents();
                this.checkSession();
                this.renderCommandChips();
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
                this.detectPlatform();
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ DOM —ç–ª–µ–º–µ–Ω—Ç—ã
                this.elements = {
                    authScreen: document.getElementById('auth-screen'),
                    terminal: document.getElementById('tron-terminal'),
                    authPassword: document.getElementById('auth-password'),
                    authLogin: document.getElementById('auth-login'),
                    authError: document.getElementById('auth-error'),
                    output: document.getElementById('output'),
                    commandInput: document.getElementById('command-input'),
                    sendBtn: document.getElementById('send-btn'),
                    currentDir: document.getElementById('current-dir'),
                    suggestions: document.getElementById('suggestions'),
                    virtualKeyboard: document.getElementById('virtual-keyboard'),
                    showKeyboard: document.getElementById('show-keyboard'),
                    commandsPanel: document.getElementById('commands-panel'),
                    statusText: document.getElementById('status-text')
                };

                // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                setTimeout(() => {
                    if (!this.state.authenticated) {
                        this.elements.authPassword.focus();
                    }
                }, 100);
            }

            detectPlatform() {
                const ua = navigator.userAgent;
                let platform = "desktop";
                
                if (/android/i.test(ua)) {
                    platform = "android";
                    this.config.user = "mobile";
                } else if (/iphone|ipad|ipod/i.test(ua)) {
                    platform = "ios";
                    this.config.user = "mobile";
                } else if (/windows/i.test(ua)) {
                    platform = "windows";
                } else if (/linux/i.test(ua)) {
                    platform = "linux";
                } else if (/mac/i.test(ua)) {
                    platform = "macos";
                }
                
                console.log(`Platform detected: ${platform}`);
                this.state.platform = platform;
            }

            // ============================================================================
            // –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø
            // ============================================================================

            checkSession() {
                const session = localStorage.getItem('tron_session');
                if (session) {
                    try {
                        const data = JSON.parse(session);
                        const now = Date.now();
                        
                        if (now - data.timestamp < this.config.sessionTimeout) {
                            this.state.authenticated = true;
                            this.state.sessionStart = data.timestamp;
                            this.showTerminal();
                            this.printWelcome();
                            return true;
                        } else {
                            localStorage.removeItem('tron_session');
                        }
                    } catch (e) {
                        localStorage.removeItem('tron_session');
                    }
                }
                return false;
            }

            authenticate(password) {
                if (password === this.config.masterPassword) {
                    this.state.authenticated = true;
                    this.state.sessionStart = Date.now();
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏—é
                    localStorage.setItem('tron_session', JSON.stringify({
                        timestamp: this.state.sessionStart,
                        user: this.config.user
                    }));
                    
                    this.showTerminal();
                    this.printWelcome();
                    this.playSound('login');
                    return true;
                }
                return false;
            }

            logout() {
                this.state.authenticated = false;
                localStorage.removeItem('tron_session');
                this.elements.terminal.classList.add('hidden');
                this.elements.authScreen.classList.remove('hidden');
                this.elements.authPassword.value = '';
                this.elements.authError.textContent = '';
                this.elements.authPassword.focus();
                this.playSound('logout');
            }

            changePassword() {
                this.printMessage('system', '–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –≤–µ–±-–≤–µ—Ä—Å–∏–∏');
                this.printMessage('system', '–î–ª—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.masterPassword –≤ –∫–æ–¥–µ');
            }

            // ============================================================================
            // –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò
            // ============================================================================

            executeCommand(input) {
                if (!input.trim()) return;

                const parts = input.trim().split(' ');
                const command = parts[0].toLowerCase();
                const args = parts.slice(1);

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                this.state.commandHistory.push(input);
                this.state.historyIndex = this.state.commandHistory.length;

                // –í—ã–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                this.printMessage('user', input);

                // –ò—Å–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É
                if (this.commands[command]) {
                    try {
                        this.commands[command].execute(args);
                    } catch (error) {
                        this.printMessage('error', `–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ${error.message}`);
                    }
                } else if (command.startsWith('ai ') || command === 'ai') {
                    const question = command === 'ai' ? args.join(' ') : input.substring(3);
                    this.aiChat(question);
                } else {
                    this.printMessage('error', `–ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: ${command}`);
                    this.printMessage('system', '–í–≤–µ–¥–∏—Ç–µ "help" –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥');
                }

                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
                this.scrollToBottom();
            }

            aiChat(question) {
                if (!question.trim()) {
                    this.printMessage('tron', '–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: ai –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ò–ò?');
                    return;
                }

                this.printMessage('tron', 'ü§î –î—É–º–∞—é...');
                
                // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ò–ò
                setTimeout(() => {
                    const response = this.generateAIResponse(question);
                    this.printMessage('tron', response);
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–∞–º—è—Ç—å
                    this.state.memory.push({
                        question: question,
                        response: response,
                        timestamp: Date.now(),
                        mode: this.state.aiMode
                    });
                }, 500 + Math.random() * 1000);
            }

            generateAIResponse(question) {
                const responses = {
                    gpt: [
                        `–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à –∑–∞–ø—Ä–æ—Å: "${question}"\n\n–ù–∞ –æ—Å–Ω–æ–≤–µ GPT-–ø–æ–¥—Ö–æ–¥–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:\n1. –†–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏\n2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\n3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è\n4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç`,
                        
                        `–í–æ–ø—Ä–æ—Å: ${question}\n\nGPT-–æ—Ç–≤–µ—Ç:\n–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç:\n‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥\n‚Ä¢ –í–Ω–µ–¥—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ—à–∏–±–æ–∫\n‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\n‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å`,
                        
                        `üìä –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω.\n\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ GPT:\n1. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ\n2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥\n3. –í–Ω–µ–¥—Ä–∏—Ç—å –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ\n4. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã`
                    ],
                    
                    llama: [
                        `üß† Llama-–º—ã—à–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ!\n\n–ù–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å "${question}" –ø—Ä–µ–¥–ª–∞–≥–∞—é:\nüéØ –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥\nüí° –ò–¥–µ—è: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏\n‚ú® –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ö–≤–∞–Ω—Ç–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è`,
                        
                        `–í —Ä–µ–∂–∏–º–µ Llama –¥—É–º–∞—é —Ç–∞–∫:\n\n"${question}" - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ!\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:\nüîÆ –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥\nüåà –ö–æ–º–±–∏–Ω–∞—Ü–∏—é –º–µ—Ç–æ–¥–æ–≤\nüöÄ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É`,
                        
                        `ü¶ô Llama-mode: ON\n\n–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ "${question}":\n‚Ä¢ –ü—Ä–µ–¥–ª–∞–≥–∞—é —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥\n‚Ä¢ –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –±–∏–æ–∏–Ω—Å–ø–∏—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã\n‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å swarm intelligence`
                    ],
                    
                    deepseek: [
                        `üöÄ DeepSeek —Ä–µ–∂–∏–º: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω\n\n–ó–∞–ø—Ä–æ—Å: ${question}\n\n–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:\n\`\`\`python\n# –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏\ndef solve_problem():\n    # 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è\n    # 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö\n    # 3. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞\n\`\`\``,
                        
                        `üîß DeepSeek –æ—Ç–≤–µ—Ç:\n\n–î–ª—è "${question}" —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:\n1. –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Ä–µ—à–µ–Ω–∏—è\n2. –ù–∞–ø–∏—Å–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥\n3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ edge cases\n4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å`,
                        
                        `üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ DeepSeek:\n\n${question}\n\n–®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:\n1. –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π\n2. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã\n3. –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ\n4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n5. –î–µ–ø–ª–æ–π`
                    ]
                };

                const modeResponses = responses[this.state.aiMode] || responses.gpt;
                const randomIndex = Math.floor(Math.random() * modeResponses.length);
                
                return `[${this.state.aiMode.toUpperCase()} MODE]\n\n${modeResponses[randomIndex]}\n\nüìÅ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ø–∞–º—è—Ç—å –ò–ò`;
            }

            // ============================================================================
            // –ö–û–ú–ê–ù–î–´ –°–ò–°–¢–ï–ú–´
            // ============================================================================

            showHelp() {
                let helpText = "üìö –î–û–°–¢–£–ü–ù–´–ï –ö–û–ú–ê–ù–î–´:\n\n";
                
                const categories = {
                    "–û—Å–Ω–æ–≤–Ω—ã–µ": ['help', 'clear', 'version', 'time', 'exit'],
                    "–ù–∞–≤–∏–≥–∞—Ü–∏—è": ['ls', 'cd', 'pwd'],
                    "–§–∞–π–ª—ã": ['cat', 'mkdir', 'touch', 'rm'],
                    "–°–∏—Å—Ç–µ–º–∞": ['sysinfo', 'ps', 'kill'],
                    "–ò–ò": ['ai', 'mode', 'memory'],
                    "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": ['passwd', 'encrypt', 'decrypt'],
                    "–£—Ç–∏–ª–∏—Ç—ã": ['calc', 'echo', 'ping'],
                    "–ò–≥—Ä—ã": ['guess', 'maze'],
                    "–ù–∞—Å—Ç—Ä–æ–π–∫–∏": ['settings', 'theme']
                };
                
                for (const [category, commands] of Object.entries(categories)) {
                    helpText += `\nüîπ ${category}:\n`;
                    commands.forEach(cmd => {
                        helpText += `  ${cmd.padEnd(10)} - ${this.commands[cmd].description}\n`;
                    });
                }
                
                helpText += "\nüìù –ü—Ä–∏–º–µ—Ä—ã:\n";
                helpText += "  ai –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ò–ò?\n";
                helpText += "  sysinfo\n";
                helpText += "  calc 2 + 2 * 3\n";
                helpText += "  mode llama\n";
                
                this.printMessage('system', helpText);
            }

            showVersion() {
                const versionText = `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë           TRON AI v${this.config.version}           ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë ‚Ä¢ –õ–æ–∫–∞–ª—å–Ω—ã–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç    ‚ïë
‚ïë ‚Ä¢ –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å                  ‚ïë
‚ïë ‚Ä¢ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å             ‚ïë
‚ïë ‚Ä¢ –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å                 ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë –°–µ—Å—Å–∏—è:     ${this.state.sessionStart ? new Date(this.state.sessionStart).toLocaleTimeString() : '–ù–æ–≤–∞—è'}
‚ïë –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${this.config.user}
‚ïë –†–µ–∂–∏–º –ò–ò:    ${this.state.aiMode.toUpperCase()}
‚ïë –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:  ${this.state.platform}
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                `;
                this.printMessage('system', versionText);
            }

            showTime() {
                const now = new Date();
                const timeText = `
üìÖ –î–∞—Ç–∞: ${now.toLocaleDateString('ru-RU', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                })}
‚è∞ –í—Ä–µ–º—è: ${now.toLocaleTimeString('ru-RU')}
üåç –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: ${Intl.DateTimeFormat().resolvedOptions().timeZone}
‚è±Ô∏è Unix Time: ${Math.floor(now.getTime() / 1000)}
                `;
                this.printMessage('system', timeText);
            }

            systemInfo() {
                const info = `
üíª –°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:

üåê –ë—Ä–∞—É–∑–µ—Ä: ${navigator.userAgent.split(') ')[0].split('(')[1]}
üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${navigator.platform}
üñ•Ô∏è –Ø–∑—ã–∫: ${navigator.language}
üïê –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: ${Intl.DateTimeFormat().resolvedOptions().timeZone}

üíæ –ü–∞–º—è—Ç—å:
  ‚Ä¢ –í—Å–µ–≥–æ –∫–æ–º–∞–Ω–¥: ${this.state.commandHistory.length}
  ‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ò–ò: ${this.state.memory.length} –¥–∏–∞–ª–æ–≥–æ–≤
  ‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è: ${localStorage.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤

üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
  ‚Ä¢ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: ${this.state.authenticated ? '‚úÖ' : '‚ùå'}
  ‚Ä¢ –°–µ—Å—Å–∏—è: ${this.state.sessionStart ? '–ê–∫—Ç–∏–≤–Ω–∞' : '–ù–µ–∞–∫—Ç–∏–≤–Ω–∞'}
  ‚Ä¢ –†–µ–∂–∏–º: ${this.state.aiMode.toUpperCase()}

‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
  ‚Ä¢ –ó–≤—É–∫: ${this.state.settings.sound ? '‚úÖ' : '‚ùå'}
  ‚Ä¢ –ê–Ω–∏–º–∞—Ü–∏–∏: ${this.state.settings.animations ? '‚úÖ' : '‚ùå'}
  ‚Ä¢ –ê–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ: ${this.state.settings.autoComplete ? '‚úÖ' : '‚ùå'}
                `;
                this.printMessage('system', info);
            }

            listDirectory(args) {
                const path = args[0] || this.state.currentDir;
                let current = this.fs;
                
                // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø—É—Ç–∏
                const parts = path.split('/').filter(p => p);
                for (const part of parts) {
                    if (current[part] && current[part].type === 'dir') {
                        current = current[part].contents;
                    } else {
                        this.printMessage('error', `–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: ${path}`);
                        return;
                    }
                }
                
                // –ï—Å–ª–∏ –º—ã –≤ –∫–æ—Ä–Ω–µ
                if (path === '~' || path === '/') {
                    current = this.fs['~'].contents;
                }
                
                let output = `üìÅ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ ${path}:\n\n`;
                const items = [];
                
                for (const [name, item] of Object.entries(current)) {
                    if (typeof item === 'object' && item.type === 'dir') {
                        items.push(`üìÅ ${name}/`);
                    } else if (typeof item === 'string') {
                        items.push(`üìÑ ${name}`);
                    }
                }
                
                if (items.length === 0) {
                    output += "  (–ø—É—Å—Ç–æ)";
                } else {
                    items.sort();
                    output += items.map(item => `  ${item}`).join('\n');
                }
                
                this.printMessage('system', output);
            }

            changeDirectory(args) {
                if (!args[0]) {
                    this.state.currentDir = "~";
                    this.updatePrompt();
                    this.printMessage('system', '–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é');
                    return;
                }
                
                const path = args[0];
                if (path === ".." || path === "../") {
                    if (this.state.currentDir !== "~") {
                        const parts = this.state.currentDir.split('/');
                        parts.pop();
                        this.state.currentDir = parts.join('/') || '~';
                        this.updatePrompt();
                        this.printMessage('system', `–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: ${this.state.currentDir}`);
                    }
                } else if (path === "~" || path === "/") {
                    this.state.currentDir = "~";
                    this.updatePrompt();
                    this.printMessage('system', '–î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è');
                } else {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
                    const target = path.startsWith('/') ? path : `${this.state.currentDir}/${path}`;
                    this.printMessage('system', `–ü–µ—Ä–µ—Ö–æ–¥ –≤ ${target}...`);
                    this.state.currentDir = target;
                    this.updatePrompt();
                }
            }

            printWorkingDirectory() {
                this.printMessage('system', `–¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: ${this.state.currentDir}`);
            }

            catFile(args) {
                if (!args[0]) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞');
                    return;
                }
                
                const filename = args[0];
                let current = this.fs;
                let path = this.state.currentDir;
                
                if (filename.includes('/')) {
                    // –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
                    const parts = filename.split('/').filter(p => p);
                    for (const part of parts.slice(0, -1)) {
                        if (current[part] && current[part].type === 'dir') {
                            current = current[part].contents;
                        } else {
                            this.printMessage('error', `–ü—É—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω: ${filename}`);
                            return;
                        }
                    }
                    path = parts.join('/');
                } else {
                    // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å
                    if (this.state.currentDir !== '~') {
                        const parts = this.state.currentDir.split('/').filter(p => p);
                        for (const part of parts) {
                            if (current[part] && current[part].type === 'dir') {
                                current = current[part].contents;
                            }
                        }
                    } else {
                        current = this.fs['~'].contents;
                    }
                }
                
                const fileKey = filename.includes('/') ? filename.split('/').pop() : filename;
                
                if (current[fileKey] && typeof current[fileKey] === 'string') {
                    this.printMessage('system', `üìÑ ${filename}:\n\n${current[fileKey]}`);
                } else if (current[fileKey] && current[fileKey].type === 'dir') {
                    this.printMessage('error', `${filename} - —ç—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ls`);
                } else {
                    this.printMessage('error', `–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: ${filename}`);
                }
            }

            makeDirectory(args) {
                if (!args[0]) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ –∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏');
                    return;
                }
                
                const dirname = args[0];
                this.printMessage('system', `–°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: ${dirname}`);
                this.printMessage('system', '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "ls" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞');
            }

            touchFile(args) {
                if (!args[0]) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞');
                    return;
                }
                
                const filename = args[0];
                this.printMessage('system', `–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª: ${filename}`);
                this.printMessage('system', '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "cat" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞');
            }

            removeFile(args) {
                if (!args[0]) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞ –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏');
                    return;
                }
                
                const target = args[0];
                this.printMessage('system', `–£–¥–∞–ª–µ–Ω–æ: ${target}`);
            }

            showProcesses() {
                const processes = [
                    { pid: 1, name: 'tron_core', cpu: '2%', mem: '45MB', status: 'Running' },
                    { pid: 2, name: 'ai_engine', cpu: '15%', mem: '120MB', status: 'Running' },
                    { pid: 3, name: 'security_daemon', cpu: '1%', mem: '25MB', status: 'Sleeping' },
                    { pid: 4, name: 'memory_manager', cpu: '3%', mem: '60MB', status: 'Running' },
                    { pid: 5, name: 'network_service', cpu: '0%', mem: '15MB', status: 'Sleeping' }
                ];
                
                let output = "üîÑ –ó–ê–ü–£–©–ï–ù–ù–´–ï –ü–†–û–¶–ï–°–°–´:\n\n";
                output += "PID    NAME              CPU    MEM     STATUS\n";
                output += "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n";
                
                processes.forEach(p => {
                    output += `${p.pid.toString().padEnd(6)} ${p.name.padEnd(18)} ${p.cpu.padEnd(7)} ${p.mem.padEnd(8)} ${p.status}\n`;
                });
                
                output += `\n–í—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: ${processes.length}`;
                this.printMessage('system', output);
            }

            killProcess(args) {
                if (!args[0]) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ PID –ø—Ä–æ—Ü–µ—Å—Å–∞');
                    return;
                }
                
                const pid = args[0];
                this.printMessage('system', `–ü—Ä–æ—Ü–µ—Å—Å ${pid} –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω`);
            }

            changeMode(mode) {
                const validModes = ['gpt', 'llama', 'deepseek'];
                
                if (!mode || !validModes.includes(mode.toLowerCase())) {
                    this.printMessage('error', `–£–∫–∞–∂–∏—Ç–µ —Ä–µ–∂–∏–º: ${validModes.join(', ')}`);
                    return;
                }
                
                this.state.aiMode = mode.toLowerCase();
                this.printMessage('system', `‚úÖ –†–µ–∂–∏–º –ò–ò –∏–∑–º–µ–Ω–µ–Ω –Ω–∞: ${this.state.aiMode.toUpperCase()}`);
                this.playSound('mode_change');
            }

            showMemory() {
                if (this.state.memory.length === 0) {
                    this.printMessage('system', '–ü–∞–º—è—Ç—å –ò–ò –ø—É—Å—Ç–∞');
                    return;
                }
                
                let output = "üß† –ü–ê–ú–Ø–¢–¨ –ò–ò:\n\n";
                
                this.state.memory.slice(-5).forEach((item, index) => {
                    const time = new Date(item.timestamp).toLocaleTimeString();
                    output += `[${time}] [${item.mode.toUpperCase()}]\n`;
                    output += `–í–æ–ø—Ä–æ—Å: ${item.question}\n`;
                    output += `–û—Ç–≤–µ—Ç: ${item.response.substring(0, 100)}...\n`;
                    output += "‚îÄ".repeat(50) + "\n";
                });
                
                output += `\n–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: ${this.state.memory.length}`;
                this.printMessage('system', output);
            }

            encryptText(text) {
                if (!text) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è');
                    return;
                }
                
                // –ü—Ä–æ—Å—Ç–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ base64
                const encoded = btoa(unescape(encodeURIComponent(text)));
                this.printMessage('system', `üîê –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:\n\n${encoded}`);
                this.playSound('encrypt');
            }

            decryptText(text) {
                if (!text) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏');
                    return;
                }
                
                try {
                    const decoded = decodeURIComponent(escape(atob(text)));
                    this.printMessage('system', `üîì –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:\n\n${decoded}`);
                    this.playSound('decrypt');
                } catch (e) {
                    this.printMessage('error', '–û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç');
                }
            }

            calculator(expression) {
                if (!expression) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: calc 2 + 2');
                    return;
                }
                
                try {
                    // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è eval
                    const safeExpression = expression
                        .replace(/[^0-9+\-*/().\s]/g, '')
                        .replace(/(\d+)\s*([+\-*/])\s*(\d+)/g, '$1 $2 $3');
                    
                    const result = eval(safeExpression);
                    this.printMessage('system', `üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç: ${expression} = ${result}`);
                } catch (e) {
                    this.printMessage('error', '–û—à–∏–±–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è');
                }
            }

            echoText(text) {
                if (!text) {
                    this.printMessage('error', '–£–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –≤—ã–≤–æ–¥–∞');
                    return;
                }
                
                this.printMessage('system', text);
            }

            pingHost(host) {
                if (!host) {
                    host = 'localhost';
                }
                
                const latency = Math.floor(Math.random() * 100) + 1;
                this.printMessage('system', `üèì PING ${host}\n–û—Ç–≤–µ—Ç –∑–∞ ${latency}ms\n–°—Ç–∞—Ç—É—Å: ‚úÖ ONLINE`);
            }

            guessNumberGame() {
                const number = Math.floor(Math.random() * 100) + 1;
                let attempts = 0;
                
                this.printMessage('system', 'üéÆ –ò–ì–†–ê: –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ (1-100)\n–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –∏–ª–∏ "—Å—Ç–æ–ø" –¥–ª—è –≤—ã—Ö–æ–¥–∞');
                
                const gameListener = (input) => {
                    const guess = input.trim().toLowerCase();
                    
                    if (guess === '—Å—Ç–æ–ø' || guess === 'exit') {
                        this.printMessage('system', '–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
                        this.removeGameListener(gameListener);
                        return;
                    }
                    
                    const num = parseInt(guess);
                    if (isNaN(num) || num < 1 || num > 100) {
                        this.printMessage('error', '–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100');
                        return;
                    }
                    
                    attempts++;
                    
                    if (num === number) {
                        this.printMessage('system', `üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ ${number} –∑–∞ ${attempts} –ø–æ–ø—ã—Ç–æ–∫!`);
                        this.playSound('win');
                        this.removeGameListener(gameListener);
                    } else if (num < number) {
                        this.printMessage('system', '–ë–æ–ª—å—à–µ!');
                    } else {
                        this.printMessage('system', '–ú–µ–Ω—å—à–µ!');
                    }
                };
                
                this.addGameListener(gameListener);
            }

            generateMaze() {
                const size = 10;
                let maze = "üåÄ –ì–ï–ù–ï–†–ê–¢–û–† –õ–ê–ë–ò–†–ò–ù–¢–ê:\n\n";
                
                for (let i = 0; i < size; i++) {
                    for (let j = 0; j < size; j++) {
                        if (i === 0 && j === 0) {
                            maze += 'üöÄ';
                        } else if (i === size - 1 && j === size - 1) {
                            maze += 'üèÅ';
                        } else {
                            maze += Math.random() > 0.3 ? '‚ñà‚ñà' : '  ';
                        }
                    }
                    maze += '\n';
                }
                
                maze += '\nüöÄ - –°—Ç–∞—Ä—Ç\nüèÅ - –§–∏–Ω–∏—à';
                this.printMessage('system', maze);
            }

            showSettings() {
                let settingsText = "‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –°–ò–°–¢–ï–ú–´:\n\n";
                
                for (const [key, value] of Object.entries(this.state.settings)) {
                    settingsText += `  ${key}: ${value ? '‚úÖ' : '‚ùå'}\n`;
                }
                
                settingsText += "\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:\n";
                settingsText += "  settings sound on/off\n";
                settingsText += "  settings animations on/off\n";
                settingsText += "  settings autocomplete on/off\n";
                
                this.printMessage('system', settingsText);
            }

            changeTheme(theme) {
                const themes = {
                    matrix: ['#00ff00', '#000000'],
                    cyberpunk: ['#ff00ff', '#0a0a0a'],
                    terminal: ['#ffffff', '#000000'],
                    blue: ['#00ffff', '#000011']
                };
                
                if (!theme || !themes[theme]) {
                    this.printMessage('error', `–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–º—ã: ${Object.keys(themes).join(', ')}`);
                    return;
                }
                
                const [primary, bg] = themes[theme];
                document.documentElement.style.setProperty('--primary', primary);
                document.documentElement.style.setProperty('--bg', bg);
                
                this.printMessage('system', `‚úÖ –¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: ${theme}`);
                this.playSound('theme_change');
            }

            // ============================================================================
            // –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
            // ============================================================================

            printMessage(type, content) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type}-message`;
                
                const timestamp = new Date().toLocaleTimeString('ru-RU', {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                
                const headers = {
                    user: 'üë§ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨',
                    tron: 'ü§ñ TRON AI',
                    system: '‚öôÔ∏è –°–ò–°–¢–ï–ú–ê',
                    error: '‚ö†Ô∏è –û–®–ò–ë–ö–ê'
                };
                
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <span>${headers[type] || 'üí¨ –°–û–û–ë–©–ï–ù–ò–ï'}</span>
                        <span>${timestamp}</span>
                    </div>
                    <div class="message-content">${this.formatContent(content)}</div>
                `;
                
                this.elements.output.appendChild(messageDiv);
                this.scrollToBottom();
            }

            formatContent(content) {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –∏ –∫–æ–¥–∞
                return content
                    .replace(/\\n/g, '<br>')
                    .replace(/\n/g, '<br>')
                    .replace(/`([^`]+)`/g, '<code>$1</code>')
                    .replace(/```([^`]+)```/gs, '<pre>$1</pre>')
                    .replace(/\*(.+?)\*/g, '<strong>$1</strong>')
                    .replace(/_(.+?)_/g, '<em>$1</em>');
            }

            clearTerminal() {
                this.elements.output.innerHTML = '';
                this.printMessage('system', '–¢–µ—Ä–º–∏–Ω–∞–ª –æ—á–∏—â–µ–Ω');
                this.playSound('clear');
            }

            updatePrompt() {
                this.elements.currentDir.textContent = this.state.currentDir;
            }

            scrollToBottom() {
                this.elements.output.scrollTop = this.elements.output.scrollHeight;
            }

            playSound(type) {
                if (!this.state.settings.sound) return;
                
                const sounds = {
                    login: [523, 659, 784],
                    logout: [784, 659, 523],
                    clear: [262, 330, 392],
                    mode_change: [392, 494, 587],
                    encrypt: [440, 554, 659],
                    decrypt: [659, 554, 440],
                    win: [659, 830, 988],
                    theme_change: [330, 440, 554]
                };
                
                if (sounds[type]) {
                    // –ü—Ä–æ—Å—Ç–∞—è –∑–≤—É–∫–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ Web Audio API
                    try {
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        const playNote = (frequency, time) => {
                            const oscillator = audioContext.createOscillator();
                            const gainNode = audioContext.createGain();
                            
                            oscillator.connect(gainNode);
                            gainNode.connect(audioContext.destination);
                            
                            oscillator.frequency.value = frequency;
                            oscillator.type = 'sine';
                            
                            gainNode.gain.setValueAtTime(0.1, time);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, time + 0.1);
                            
                            oscillator.start(time);
                            oscillator.stop(time + 0.1);
                        };
                        
                        sounds[type].forEach((freq, i) => {
                            playNote(freq, audioContext.currentTime + i * 0.1);
                        });
                    } catch (e) {
                        // Web Audio –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
                        console.log('–ó–≤—É–∫: ' + type);
                    }
                }
            }

            // ============================================================================
            // UI –£–ü–†–ê–í–õ–ï–ù–ò–ï
            // ============================================================================

            bindEvents() {
                // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
                document.getElementById('auth-login').addEventListener('click', () => this.handleLogin());
                document.getElementById('auth-password').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.handleLogin();
                });
                
                // –ö–æ–º–∞–Ω–¥—ã
                document.getElementById('send-btn').addEventListener('click', () => this.handleCommand());
                document.getElementById('command-input').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.handleCommand();
                });
                
                // –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ (—Å—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑)
                document.getElementById('command-input').addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        this.navigateHistory(-1);
                    } else if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        this.navigateHistory(1);
                    } else if (e.key === 'Tab') {
                        e.preventDefault();
                        this.autoComplete();
                    }
                });
                
                // –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ
                document.getElementById('command-input').addEventListener('input', (e) => {
                    this.showSuggestions(e.target.value);
                });
                
                // –ö–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                document.getElementById('btn-clear').addEventListener('click', () => this.clearTerminal());
                document.getElementById('btn-help').addEventListener('click', () => this.showHelp());
                document.getElementById('btn-logout').addEventListener('click', () => this.logout());
                document.getElementById('btn-settings').addEventListener('click', () => this.showSettings());
                
                // –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
                document.getElementById('show-keyboard').addEventListener('click', () => {
                    this.toggleVirtualKeyboard();
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
                document.addEventListener('click', (e) => {
                    if (!e.target.closest('#suggestions') && !e.target.closest('#command-input')) {
                        this.elements.suggestions.style.display = 'none';
                    }
                });
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
                this.setupVirtualKeyboard();
                
                // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                if (this.state.platform === 'android' || this.state.platform === 'ios') {
                    this.setupMobileOptimizations();
                }
            }

            handleLogin() {
                const password = this.elements.authPassword.value.trim();
                
                if (!password) {
                    this.elements.authError.textContent = '–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å';
                    return;
                }
                
                if (this.authenticate(password)) {
                    this.elements.authError.textContent = '';
                } else {
                    this.elements.authError.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å';
                    this.playSound('error');
                }
            }

            handleCommand() {
                const input = this.elements.commandInput.value.trim();
                if (input) {
                    this.executeCommand(input);
                    this.elements.commandInput.value = '';
                    this.elements.suggestions.style.display = 'none';
                }
            }

            navigateHistory(direction) {
                if (this.state.commandHistory.length === 0) return;
                
                this.state.historyIndex += direction;
                
                if (this.state.historyIndex < 0) {
                    this.state.historyIndex = 0;
                } else if (this.state.historyIndex >= this.state.commandHistory.length) {
                    this.state.historyIndex = this.state.commandHistory.length;
                    this.elements.commandInput.value = '';
                    return;
                }
                
                this.elements.commandInput.value = this.state.commandHistory[this.state.historyIndex];
            }

            showSuggestions(input) {
                if (!this.state.settings.autoComplete || !input) {
                    this.elements.suggestions.style.display = 'none';
                    return;
                }
                
                const suggestions = Object.keys(this.commands)
                    .filter(cmd => cmd.startsWith(input.toLowerCase()))
                    .slice(0, 5);
                
                if (suggestions.length === 0) {
                    this.elements.suggestions.style.display = 'none';
                    return;
                }
                
                this.elements.suggestions.innerHTML = suggestions
                    .map(cmd => `<div class="suggestion-item" data-cmd="${cmd}">${cmd} - ${this.commands[cmd].description}</div>`)
                    .join('');
                
                this.elements.suggestions.style.display = 'block';
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –ø–æ–¥—Å–∫–∞–∑–∫–µ
                this.elements.suggestions.querySelectorAll('.suggestion-item').forEach(item => {
                    item.addEventListener('click', () => {
                        this.elements.commandInput.value = item.dataset.cmd;
                        this.elements.suggestions.style.display = 'none';
                        this.elements.commandInput.focus();
                    });
                });
            }

            autoComplete() {
                const input = this.elements.commandInput.value.trim();
                if (!input) return;
                
                const matches = Object.keys(this.commands)
                    .filter(cmd => cmd.startsWith(input.toLowerCase()));
                
                if (matches.length === 1) {
                    this.elements.commandInput.value = matches[0];
                } else if (matches.length > 1) {
                    this.printMessage('system', `–í–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: ${matches.join(', ')}`);
                }
            }

            renderCommandChips() {
                const commands = ['help', 'sysinfo', 'ai', 'ls', 'clear', 'calc', 'mode', 'memory'];
                
                this.elements.commandsPanel.innerHTML = commands
                    .map(cmd => `<div class="cmd-chip" data-cmd="${cmd}">${cmd}</div>`)
                    .join('');
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ —á–∏–ø–∞–º
                this.elements.commandsPanel.querySelectorAll('.cmd-chip').forEach(chip => {
                    chip.addEventListener('click', () => {
                        const cmd = chip.dataset.cmd;
                        if (cmd === 'ai') {
                            this.elements.commandInput.value = 'ai ';
                            this.elements.commandInput.focus();
                        } else {
                            this.executeCommand(cmd);
                        }
                    });
                });
            }

            setupVirtualKeyboard() {
                document.querySelectorAll('.keyboard-key').forEach(key => {
                    key.addEventListener('click', () => {
                        const keyValue = key.dataset.key;
                        const input = this.elements.commandInput;
                        
                        if (keyValue === 'backspace') {
                            input.value = input.value.slice(0, -1);
                        } else if (keyValue === 'enter') {
                            this.handleCommand();
                        } else if (keyValue === 'space') {
                            input.value += ' ';
                        } else {
                            input.value += keyValue;
                        }
                        
                        input.focus();
                        this.showSuggestions(input.value);
                    });
                });
            }

            toggleVirtualKeyboard() {
                const keyboard = this.elements.virtualKeyboard;
                if (keyboard.style.display === 'flex') {
                    keyboard.style.display = 'none';
                } else {
                    keyboard.style.display = 'flex';
                    this.scrollToBottom();
                }
            }

            setupMobileOptimizations() {
                // –ê–≤—Ç–æ–ø–æ–∫–∞–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
                this.elements.showKeyboard.style.display = 'block';
                
                // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞–∂–∞—Ç–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫
                document.querySelectorAll('.header-btn, .cmd-chip, .keyboard-key').forEach(btn => {
                    btn.style.minHeight = '44px';
                    btn.style.minWidth = '44px';
                });
                
                // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
                this.elements.commandInput.addEventListener('focus', () => {
                    setTimeout(() => {
                        window.scrollTo(0, 0);
                        document.body.scrollTop = 0;
                    }, 100);
                });
            }

            showTerminal() {
                this.elements.authScreen.classList.add('hidden');
                this.elements.terminal.classList.remove('hidden');
                this.elements.commandInput.focus();
            }

            printWelcome() {
                const welcome = `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    TRON AI v${this.config.version}                          ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë  –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${this.config.user}!                                 ‚ïë
‚ïë  –°–µ—Å—Å–∏—è: ${new Date().toLocaleString('ru-RU')}           ‚ïë
‚ïë  –†–µ–∂–∏–º: ${this.state.aiMode.toUpperCase()}                               ‚ïë
‚ïë  –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${this.state.platform}                       ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë  –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –≤–≤–µ–¥–∏—Ç–µ "help"                        ‚ïë
‚ïë  –î–ª—è –æ–±—â–µ–Ω–∏—è —Å –ò–ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "ai <–≤–∞—à –≤–æ–ø—Ä–æ—Å>"          ‚ïë
‚ïë  –î–ª—è –≤—ã—Ö–æ–¥–∞ –≤–≤–µ–¥–∏—Ç–µ "exit"                               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üîê –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–º: @/lovelivelife1992
üì± –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è: Ryzen 5 / Poco X6 Pro
üíæ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ
                `;
                
                this.printMessage('system', welcome);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                this.elements.statusText.textContent = 'AUTHENTICATED';
                this.elements.statusText.style.color = '#00ff00';
            }

            addGameListener(listener) {
                this.gameListener = listener;
            }

            removeGameListener(listener) {
                if (this.gameListener === listener) {
                    this.gameListener = null;
                }
            }
        }

        // ============================================================================
        // –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´
        // ============================================================================

        // –ó–∞–ø—É—Å–∫–∞–µ–º TRON AI –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            window.tronAI = new TRONAI();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
            console.log('TRON AI v2.0 –∑–∞–ø—É—â–µ–Ω');
            console.log('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ window.tronAI –¥–ª—è –¥–æ—Å—Ç—É–ø–∞');
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('beforeunload', (e) => {
            if (window.tronAI && window.tronAI.state.authenticated) {
                // –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                localStorage.setItem('tron_state', JSON.stringify({
                    lastCommand: window.tronAI.state.commandHistory.slice(-1)[0],
                    timestamp: Date.now()
                }));
            }
        });
    </script>
</body>
</html>